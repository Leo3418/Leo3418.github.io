{%- comment -%}

This file generates a list of documents in a collection.

It takes a 'collection' argument for the collection whose document list is to
be generated. The value for this argument is usually obtained via variable
'site.COLLECTION_NAME'.

To indent a document's entry in the list, define a variable 'level' in the
document's front matter, whose value is the level of indentation (starting from
1, which means unindented). For example, "level: 2" makes a document's entry
indent by one level, and "level: 3" makes it indent by two levels. If you don't
want a document's entry to be indented, just omit the 'level' variable; the
effect of defining "level: 1" is undefined.

{%- endcomment -%}

<ul class="collection-doc-list">
{% for doc in include.collection %}
{%- capture entry -%}<li><p><a href="{{ doc.url }}">{{ doc.title }}</a></p></li>{%- endcapture -%}
{% if doc.level %}
    {% for i in (2..doc.level) %}<ul>{%- endfor -%}
    {{ entry }}
    {%- for i in (2..doc.level) -%}</ul>{% endfor %}
{% else %}
    {{ entry }}
{% endif %}
{%- endfor -%}
</ul>
